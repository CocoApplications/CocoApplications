{"version":3,"sources":["threejs_OrbitControls.js"],"names":[],"mappings":"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","file":"threejs_OrbitControls-compiled.js","sourcesContent":["/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finter swipe\n\nTHREE.OrbitControls = function ( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\tthis.onUpdate = [];\n\tthis.trigger_updates = function(){\n\t\tfor(var i = 0; i < this.onUpdate.length; i++){\n\t\t\tthis.onUpdate[i]();\n\t\t}\n\t}\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\t// axelr added\n\tthis.rotate_left = function(angle) {\n\t\trotateLeft(angle);\n\t}\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function() {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update () {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add( panOffset );\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\tthis.trigger_updates();\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function() {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE : - 1, ROTATE : 0, DOLLY : 1, PAN : 2, TOUCH_ROTATE : 3, TOUCH_DOLLY : 4, TOUCH_PAN : 5 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function() {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function() {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function() {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan ( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( event ) {\n\n\t\t//console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\t//console.log( 'handleMouseWheel' );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\t//console.log( 'handleKeyDown' );\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\t//console.log( 'handleTouchStartDolly' );\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\t//console.log( 'handleTouchStartPan' );\n\n\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\t//console.log( 'handleTouchMoveDolly' );\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\t//console.log( 'handleTouchMovePan' );\n\n\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchEnd( event ) {\n\n\t\t//console.log( 'handleTouchEnd' );\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tif ( event.button === scope.mouseButtons.ORBIT ) {\n\n\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\thandleMouseDownRotate( event );\n\n\t\t\tstate = STATE.ROTATE;\n\n\t\t} else if ( event.button === scope.mouseButtons.ZOOM ) {\n\n\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\thandleMouseDownDolly( event );\n\n\t\t\tstate = STATE.DOLLY;\n\n\t\t} else if ( event.button === scope.mouseButtons.PAN ) {\n\n\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\thandleMouseDownPan( event );\n\n\t\t\tstate = STATE.PAN;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tif ( state === STATE.ROTATE ) {\n\n\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\thandleMouseMoveRotate( event );\n\n\t\t} else if ( state === STATE.DOLLY ) {\n\n\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\thandleMouseMoveDolly( event );\n\n\t\t} else if ( state === STATE.PAN ) {\n\n\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\thandleMouseMovePan( event );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( startEvent ); // not sure why these are here...\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleTouchStartDolly( event );\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties( THREE.OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n\t\t\treturn this.target;\n\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\treturn ! this.enableZoom;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\tthis.enableZoom = ! value;\n\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\treturn ! this.enableRotate;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\tthis.enableRotate = ! value;\n\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\treturn ! this.enablePan;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\tthis.enablePan = ! value;\n\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\treturn ! this.enableKeys;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\tthis.enableKeys = ! value;\n\n\t\t}\n\n\t},\n\n\tstaticMoving : {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\treturn ! this.enableDamping;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\tthis.enableDamping = ! value;\n\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor : {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\treturn this.dampingFactor;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\tthis.dampingFactor = value;\n\n\t\t}\n\n\t}\n\n} );\n"]}